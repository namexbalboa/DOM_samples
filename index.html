<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exemplos de Eventos DOM e Window</title>
  <style>
    /* ======== ESTILO GERAL ======== */
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      color: #222;
      padding: 20px;
      line-height: 1.5;
    }

    h1, h2 {
      text-align: center;
      color: #222;
      margin-bottom: 10px;
    }

    section {
      background: white;
      border-radius: 10px;
      padding: 20px;
      margin: 20px auto;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      max-width: 700px;
    }

    input, button, textarea {
      display: block;
      margin: 10px 0;
      padding: 8px 10px;
      font-size: 14px;
      width: 100%;
    }

    #caixa {
      width: 100%;
      height: 120px;
      background: lightblue;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 6px;
      margin-top: 10px;
      font-weight: bold;
      transition: background 0.2s;
      user-select: none;
    }

    #log {
      background: #111;
      color: #0f0;
      padding: 10px;
      border-radius: 6px;
      height: 250px;
      overflow-y: auto;
      font-family: monospace;
      font-size: 14px;
    }

    small {
      color: #555;
      display: block;
      margin-top: 5px;
    }
  </style>
</head>
<body>

  <h1>üéØ Demonstra√ß√£o de Eventos DOM + Window</h1>
  <p style="text-align:center;">Interaja com os elementos abaixo e veja os eventos sendo disparados!</p>

  <!-- ======== EVENTOS DOM ======== -->
  <section>
    <h2>üñ±Ô∏è Eventos DOM</h2>

    <button id="btn">Clique ou clique duas vezes aqui</button>
    <input id="campo" type="text" placeholder="Digite algo..." />
    <textarea id="texto" placeholder="O que voc√™ digitar acima aparece aqui"></textarea>

    <form id="form">
      <input type="text" placeholder="Digite algo e envie o formul√°rio" />
      <button type="submit">Enviar formul√°rio</button>
    </form>

    <div id="caixa">Passe o mouse aqui</div>
  </section>

  <!-- ======== EVENTOS WINDOW ======== -->
  <section>
    <h2>üåê Eventos Window</h2>
    <p>Tente redimensionar a janela, mudar de aba, rolar a p√°gina, ou ficar offline.</p>
    <div id="log"></div>
  </section>

  <script>
    const logBox = document.getElementById('log');
    const log = (msg) => {
      const time = new Date().toLocaleTimeString();
      logBox.innerHTML += `[${time}] ${msg}<br>`;
      logBox.scrollTop = logBox.scrollHeight;
    };

    /* ======================================================
       EVENTOS DOM
    ====================================================== */

    const btn = document.getElementById('btn');
    const campo = document.getElementById('campo');
    const texto = document.getElementById('texto');
    const form = document.getElementById('form');
    const caixa = document.getElementById('caixa');

    // 1. click
    btn.addEventListener('click', () => log('üñ±Ô∏è Evento CLICK no bot√£o'));

    // 2. dblclick
    btn.addEventListener('dblclick', () => log('‚ö° Evento DBLCLICK no bot√£o'));

    // 3. mousedown / 4. mouseup
    caixa.addEventListener('mousedown', () => {
      caixa.style.background = 'lightcoral';
      log('üëá Evento MOUSEDOWN no quadrado');
    });
    caixa.addEventListener('mouseup', () => {
      caixa.style.background = 'lightblue';
      log('üëÜ Evento MOUSEUP no quadrado');
    });

    // 5. mousemove
    caixa.addEventListener('mousemove', (e) => {
      caixa.textContent = `X:${e.offsetX} Y:${e.offsetY}`;
    });

    // 6. keydown / 7. keyup
    campo.addEventListener('keydown', () => log('‚å®Ô∏è Tecla pressionada (keydown)'));
    campo.addEventListener('keyup', () => log('‚å®Ô∏è Tecla liberada (keyup)'));

    // 8. input
    campo.addEventListener('input', () => {
      texto.value = campo.value;
      log('‚úèÔ∏è Evento INPUT - texto atualizado');
    });

    // 9. change
    campo.addEventListener('change', () => log('ü™Ñ Evento CHANGE (valor alterado e perdeu foco)'));

    // 10. submit
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      log('üì® Evento SUBMIT - formul√°rio enviado');
    });

    // Extra: load (executado no final da p√°gina)
    window.addEventListener('load', () => log('‚úÖ P√°gina completamente carregada (load)'));

    /* ======================================================
       EVENTOS WINDOW
    ====================================================== */

    // DOMContentLoaded
    document.addEventListener('DOMContentLoaded', () => log('üìÑ DOMContentLoaded - HTML parseado'));

    // resize
    window.addEventListener('resize', () => log(`üìê Janela redimensionada: ${window.innerWidth}x${window.innerHeight}`));

    // scroll
    window.addEventListener('scroll', () => log('üåÄ Scroll detectado'));

    // focus / blur
    window.addEventListener('focus', () => log('üëÄ Aba ganhou foco'));
    window.addEventListener('blur', () => log('üò¥ Aba perdeu foco'));

    // beforeunload
    window.addEventListener('beforeunload', (e) => {
      e.preventDefault();
      e.returnValue = '';
      log('‚ö†Ô∏è Tentando sair da p√°gina');
    });

    // error
    window.addEventListener('error', (err) => log(`üí• Erro detectado: ${err.message}`));

    // hashchange
    window.addEventListener('hashchange', () => log(`üîó Hash da URL mudou: ${location.hash}`));

    // online / offline
    window.addEventListener('online', () => log('üåê Conex√£o restabelecida'));
    window.addEventListener('offline', () => log('‚ùå Conex√£o perdida'));

    // visibilitychange
    document.addEventListener('visibilitychange', () => {
      log(document.hidden ? 'üôà Aba oculta' : 'üëÅÔ∏è Aba vis√≠vel novamente');
    });

    // Simula erro pra testar evento "error"
    setTimeout(() => { try { naoExiste(); } catch (e) {} }, 1500);
  </script>
</body>
</html>
